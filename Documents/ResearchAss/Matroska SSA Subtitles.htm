<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!-- saved from url=(0058)http://www.matroska.org/technical/specs/subtitles/ssa.html -->
<HTML><HEAD><TITLE>Matroska SSA Subtitles</TITLE><!-- InstanceBegin template="/Templates/main.dwt" codeOutsideHTMLIsLocked="false" --><!-- InstanceBeginEditable name="doctitle" --><!-- InstanceEndEditable -->
<META http-equiv=Content-Type content="text/html; charset=utf-8"><LINK 
href="Matroska SSA Subtitles.files/test.css" type=text/css rel=stylesheet><!-- InstanceBeginEditable name="head" --><!-- InstanceEndEditable -->
<META content="MSHTML 6.00.2900.3462" name=GENERATOR></HEAD>
<BODY>
<DIV id=displayedpage>﻿ 
<H1>матрёшка / matroska</H1>
<DIV class=flags><IMG title=English height=15 alt=English 
src="Matroska SSA Subtitles.files/f-uk.gif" width=25> <IMG title=Deutsch 
height=15 alt=Deutsch src="Matroska SSA Subtitles.files/f-germany.gif" width=25> 
<IMG title=Français height=15 alt=Français 
src="Matroska SSA Subtitles.files/f-france.gif" width=25> <IMG 
title="Japanese Flag" height=15 alt=日本語 
src="Matroska SSA Subtitles.files/f-japan.gif" width=25> <IMG title=Español 
height=15 alt=Español src="Matroska SSA Subtitles.files/f-spain.gif" width=25> 
<IMG title=Português height=15 alt=Português 
src="Matroska SSA Subtitles.files/f-portugal.gif" width=25> <IMG title=Русский 
height=15 alt=Русский src="Matroska SSA Subtitles.files/f-russia.gif" width=25> 
<IMG title=Nederlands height=15 alt=Nederlands 
src="Matroska SSA Subtitles.files/f-nls.gif" width=25> <IMG title=Italiano 
height=15 alt=Italiano src="Matroska SSA Subtitles.files/f-italy.gif" width=25> 
</DIV>
<DIV id=logo1><IMG alt="Matroska Logo" 
src="Matroska SSA Subtitles.files/logo-128x100x32.png"> </DIV>
<DIV id=logo2><IMG alt="Matroska Logo" 
src="Matroska SSA Subtitles.files/logo-128x100x32.png"> </DIV>
<DIV id=navbar>
<UL class=navlist>
  <LI><A title=Homepage href="http://www.matroska.org/index.html">Home</A> 
  <LI><A href="http://www.matroska.org/downloads/windows.html">Downloads</A> 
  <LI><A title=News href="http://www.matroska.org/news/index.html">News</A> 
  <LI><A href="http://www.matroska.org/technical/guides/index.html">Guides</A> 
  <LI><A href="http://www.matroska.org/technical/index.html">Technical / 
  Specs</A> 
  <LI><A title="Contact / Lists" 
  href="http://www.matroska.org/contact/index.html">Contact</A> 
  <LI><A title="Internal stuff" 
  href="http://www.matroska.org/team/index.html">Team</A> 
  <LI><A title="Project Page" 
  href="http://coreforge.org/projects/matroska/">Project Page</A> 
  <LI><A title="how to access SVN" 
  href="http://www.matroska.org/team/svn.html">SVN</A> 
  <LI><A title="Links to external related sites" 
  href="http://www.matroska.org/links/index.html">Links</A> </LI></UL></DIV>
<H2 id=pagetitle>SSA / ASS</H2>
<DIV id=subnavbar>
<UL class=navlist><!-- InstanceBeginEditable name="SubNavBar" -->
  <LI><A 
  href="http://www.matroska.org/technical/specs/subtitles/index.html">Subtitle 
  Formats</A> 
  <LI><A 
  href="http://www.matroska.org/technical/specs/subtitles/srt.html">SRT</A> 
  <LI><A 
  href="http://www.matroska.org/technical/specs/subtitles/usf.html">USF</A> 
  <LI><A 
  href="http://www.matroska.org/technical/specs/subtitles/ssa.html">SSA/ASS</A> 
  <LI><A 
  href="http://www.matroska.org/technical/specs/subtitles/images.html">Images</A> 
<!-- InstanceEndEditable --></LI></UL></DIV>
<DIV id=content><!-- InstanceBeginEditable name="Content" -->
<P>SSA stands for Sub Station Alpha. It's the file format used by the popular 
subtitle editor, <A 
href="http://wiki.multimedia.cx/index.php?title=SubStation_Alpha">SubStation 
Alpha</A>. This format is widely used by fansubbers.</P>
<P>It allows you to do some advanced display features, like positioning, 
karaoke, style managements...</P>
<P>For detailed information on SSA/ASS, see the <A 
href="http://moodub.free.fr/video/ass-specs.doc">SSA specs</A>. It includes an 
SSA specs description and the avanced features added by ASS format (standing for 
Advanced SSA). Because SSA and ASS are so similar, they are treated the same 
here.</P>
<P>Like SRT, this format is text based with a particular syntax.</P>
<P>A file consists of 4 or 5 parts, declared ala INI file (but it's not an INI 
!)</P>
<P>The first, "[Script Info]" contains some information about the subtitle file, 
such as it's title, who created it, type of script and a very important one : 
"PlayResY". Be carefull of this value, everything in your script (font size, 
positioning) is scaled by it. Sub Station Alpha uses your desktops Y resolution 
to write this value, so if a friend with a large monitor and a high screen 
resolution gives you an edited script, you can mess everything up by saving the 
script in SSA with your low-cost monitor.</P>
<P>The second, "[V4 Styles]", is a list of style definitions. A style describe 
how will look a text on the screen. It defines font, font size, 
primary/.../outile colour, position, aligment etc ...</P>
<P>For example this :</P>
<TABLE width="100%" border=2>
  <TBODY>
  <TR>
    <TD>
      <P>Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, 
      TertiaryColour, BackColour, Bold, Italic, BorderStyle, Outline, Shadow, 
      Alignment, MarginL, MarginR, MarginV, AlphaLevel, Encoding<BR>Style: Wolf 
      main,Wolf_Rain,56,15724527,15724527,15724527,4144959,0,0,1,1,2,2,5,5,30,0,0</P></TD></TR></TBODY></TABLE>
<P>The third, "[Events]", is the list of text you want to display at the right 
timing. You can specify some attribute here. Like the style to use for this 
event (must be defined in the list), the position of the text (Left, Right, 
Vertical Margin), an effect. Name is mostly used by translator to know who said 
this sentence. Timing is in h:mm:ss.cc (centisec).</P>
<TABLE width="100%" border=2>
  <TBODY>
  <TR>
    <TD>
      <P>Format: Marked, Start, End, Style, Name, MarginL, MarginR, MarginV, 
      Effect, Text<BR>Dialogue: Marked=0,0:02:40.65,0:02:41.79,Wolf 
      main,Cher,0000,0000,0000,,Et les enregistrements de ses ondes delta 
      ?<BR>Dialogue: Marked=0,0:02:42.42,0:02:44.15,Wolf 
      main,autre,0000,0000,0000,,Toujours rien.</P></TD></TR></TBODY></TABLE>
<P>"[Pictures]" or "[Fonts]" part can be found in some SSA file, they contains 
UUE-encoded pictures/font but those features are only used by Sub Station Alpha, 
i.e. no filter (Vobsub/Avery Lee Subtiler filter) use them.</P>
<P>Now, how are they stored in matroska ?</P>
<LI>All text is converted to UTF-8 
<LI>All the headers are stored in CodecPrivate ( Script Info and the Styles 
list) 
<LI>Start &amp; End field are used to set TimeStamp and the BlockDuration 
element. the data stored is : 
<LI>Events are stored in the Block in this order: ReadOrder, Layer, Style, Name, 
MarginL, MarginR, MarginV, Effect, Text (Layer comes from ASS specs ... it's 
empty for SSA.) "ReadOrder field is needed for the decoder to be able to reorder 
the streamed samples as they were placed originally in the file." 
<P>Here is an example of an SSA file.</P>
<TABLE width="100%" border=2>
  <TBODY>
  <TR>
    <TD>[Script Info]<BR>; This is a Sub Station Alpha v4 script.<BR>; For Sub 
      Station Alpha info and downloads,<BR>; go to 
      http://www.eswat.demon.co.uk/<BR>; or email 
      kotus@eswat.demon.co.uk<BR>Title: Wolf's rain 2<BR>Original Script: 
      Anime-spirit Ishin-francais<BR>Original Translation: Coolman<BR>Original 
      Editing: Spikewolfwood<BR>Original Timing: Lord_alucard<BR>Original Script 
      Checking: Spikewolfwood<BR>ScriptType: v4.00<BR>Collisions: 
      Normal<BR>PlayResY: 1024<BR>PlayDepth: 0<BR>Wav: 0, 128697,D:\Alex\Anime\- 
      Fansub -\- TAFF -\Wolf's Rain\WR_-_02_Wav.wav<BR>Wav: 0, 120692,H:\team 
      truc\WR_-_02.wav<BR>Wav: 0, 116504,E:\sub\wolf's_rain\WOLF'S RAIN 
      02.wav<BR>LastWav: 3<BR>Timer: 100,0000<BR><BR>[V4 Styles]<BR>Format: 
      Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, TertiaryColour, 
      BackColour, Bold, Italic, BorderStyle, Outline, Shadow, Alignment, 
      MarginL, MarginR, MarginV, AlphaLevel, Encoding<BR>Style: 
      Default,Arial,20,65535,65535,65535,-2147483640,-1,0,1,3,0,2,30,30,30,0,0<BR>Style: 
      Titre_episode,Akbar,140,15724527,65535,65535,986895,-1,0,1,1,0,3,30,30,30,0,0<BR>Style: 
      Wolf 
      main,Wolf_Rain,56,15724527,15724527,15724527,4144959,0,0,1,1,2,2,5,5,30,0,0<BR><BR>[Events]<BR>Format: 
      Marked, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, 
      Text<BR>Dialogue: Marked=0,0:02:40.65,0:02:41.79,Wolf 
      main,Cher,0000,0000,0000,,Et les enregistrements de ses ondes delta 
      ?<BR>Dialogue: Marked=0,0:02:42.42,0:02:44.15,Wolf 
      main,autre,0000,0000,0000,,Toujours rien.</TD></TR></TBODY></TABLE>
<P>Here is what would be placed into the CodecPrivate element.</P>
<TABLE width="100%" border=2>
  <TBODY>
  <TR>
    <TD>[Script Info]<BR>; This is a Sub Station Alpha v4 script.<BR>; For Sub 
      Station Alpha info and downloads,<BR>; go to 
      http://www.eswat.demon.co.uk/<BR>; or email 
      kotus@eswat.demon.co.uk<BR>Title: Wolf's rain 2<BR>Original Script: 
      Anime-spirit Ishin-francais<BR>Original Translation: Coolman<BR>Original 
      Editing: Spikewolfwood<BR>Original Timing: Lord_alucard<BR>Original Script 
      Checking: Spikewolfwood<BR>ScriptType: v4.00<BR>Collisions: 
      Normal<BR>PlayResY: 1024<BR>PlayDepth: 0<BR>Wav: 0, 128697,D:\Alex\Anime\- 
      Fansub -\- TAFF -\Wolf's Rain\WR_-_02_Wav.wav<BR>Wav: 0, 120692,H:\team 
      truc\WR_-_02.wav<BR>Wav: 0, 116504,E:\sub\wolf's_rain\WOLF'S RAIN 
      02.wav<BR>LastWav: 3<BR>Timer: 100,0000<BR><BR>[V4 Styles]<BR>Format: 
      Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, TertiaryColour, 
      BackColour, Bold, Italic, BorderStyle, Outline, Shadow, Alignment, 
      MarginL, MarginR, MarginV, AlphaLevel, Encoding<BR>Style: 
      Default,Arial,20,65535,65535,65535,-2147483640,-1,0,1,3,0,2,30,30,30,0,0<BR>Style: 
      Titre_episode,Akbar,140,15724527,65535,65535,986895,-1,0,1,1,0,3,30,30,30,0,0<BR>Style: 
      Wolf 
      main,Wolf_Rain,56,15724527,15724527,15724527,4144959,0,0,1,1,2,2,5,5,30,0,0</TD></TR></TBODY></TABLE>
<P>And here are the two blocks that would be generated.</P>
<P>Block's timecode: 00:02:40.650<BR>BlockDuration: 00:00:01.140 
<TABLE width="100%" border=2>
  <TBODY>
  <TR>
    <TD>1,,Wolf main,Cher,0000,0000,0000,,Et les enregistrements de ses ondes 
      delta ?</TD></TR></TBODY></TABLE></P>
<P>Block's timecode: 00:02:42.420<BR>BlockDuration: 00:00:01.730 
<TABLE width="100%" border=2>
  <TBODY>
  <TR>
    <TD>2,,Wolf main,autre,0000,0000,0000,,Toujours 
rien.</TD></TR></TBODY></TABLE></P><!-- InstanceEndEditable --></LI></DIV>
<DIV id=footer><A id=cclogo href="http://corecodec.org/"><IMG height=36 
alt="CoreCodec Logo" src="Matroska SSA Subtitles.files/ccdotorg.png" 
width=219></A><BR>
<UL id=footerlist>
  <LI><A href="http://www.matroska.org/legal/disclaimer.html">Disclaimer</A> 
  <LI><A href="http://www.matroska.org/contact/index.html">Contact Us</A> <!--        <li><a href="http://svn.matroska.org/WebSVN/log.php?repname=Matroska_Website&amp;path=%2Ftrunk%2Fwww.matroska.org%2Fdata/technical/specs/subtitles/ssa.html&amp;rev=0&amp;sc=0&amp;isdir=0">Changelog</a></li>
        <li><a href="http://svn.matroska.org/WebSVN/filedetails.php?repname=Matroska_Website&amp;path=%2Ftrunk%2Fwww.matroska.org%2Fdata/technical/specs/subtitles/ssa.html&amp;rev=0&amp;sc=0">Page Source</a></li>--></LI></UL>
<DIV style="align: center"><A href="http://nosoftwarepatents.org/"><IMG 
height=40 alt="No Patent" src="Matroska SSA Subtitles.files/nopatent.jpg" 
width=90></A></DIV></DIV></DIV><!-- InstanceEnd --></BODY></HTML>
